DROP DATABASE IF EXISTS HotelDB;
CREATE DATABASE HotelDB;
USE HotelDB;

CREATE TABLE hotelRooms (
    roomNumber VARCHAR(50) PRIMARY KEY,
    roomType ENUM('STANDARD','DELUXE','EXECUTIVE_SUITE','PRESIDENTIAL_SUITE','FAMILY_ROOM','HONEYMOON_SUITE'),
    bedType ENUM('KING','QUEEN','FULL', 'TWIN'),
    bedCount INT,
    assignedCleaner VARCHAR(255),
    availability ENUM('AVAILABLE','UNAVAILABLE'),
    currentGuestID VARCHAR(255) DEFAULT NULL,
    guestCheckedIn BOOLEAN DEFAULT FALSE
);

CREATE TABLE employees (
    employeeID VARCHAR(255) PRIMARY KEY,
    jobTitle ENUM('RECEPTIONIST','CONCIERGE','HOUSEKEEPER','ROOM_SERVICE_ATTENDANT','CHEF','KITCHEN_STAFF','BARTENDER','WAITER_WAITRESS','SECURITY_GUARD','VALET'),
    fullName VARCHAR(255) NOT NULL, 
    email VARCHAR(255) NOT NULL UNIQUE,
    passwordHash VARCHAR(255) NOT NULL,
    phoneNumber VARCHAR(255),
    isAdmin BOOLEAN NOT NULL DEFAULT FALSE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE guests (
    guestID INT AUTO_INCREMENT PRIMARY KEY,
    fullName VARCHAR(255) NOT NULL,
    email VARCHAR(255) NOT NULL UNIQUE,
    passwordHash VARCHAR(255) NOT NULL,
    phoneNumber VARCHAR(255),
    roomBooked VARCHAR(50),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (roomBooked) REFERENCES hotelRooms(roomNumber)
);
